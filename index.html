<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8" />
        <title>Угадай число!</title>
        <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" />
        <style>
            .hidden {
                display: none;
            }
        </style>
    </head>
    <body>
        <h1 class="text-center">Угадай число!</h1>
        <div class="row">
            <div class="col-md-4">
                <div class="text-center add_user">
                    Назвіть себе, щоб я загадав число:
                    <form action="#" class="form-inline">
                        <div class="form-group text-center">
                            <input id="user_name" class="form-control" type='text' title="User" placeholder="Скажіть як вас звати...">
                            <button type="button" class="btn btn-success" id="add_user">Ввести</button>
                        </div>
                    </form>
                </div>
                <div class="text-center hidden">
                    <br>
                    <blockquote>
                        Грає користувач:<b class="user_name"></b>
                    </blockquote>
                </div>
            </div>

            <div class="col-md-4 text-center hidden">
                <form class="form-inline form-chislo">
                    <div class="form-group text-center">
                        <input id="number" class="form-control" type='number' title="Data" placeholder="Ваше число...">
                        <button type="button" class="btn btn-success" id="add_number">Ok</button>
                    </div>
                </form>
                <br>
                <blockquote id="process">
                    ще не вгадував
                </blockquote>
                <blockquote>
                    <button type="button" class="btn btn-success hidden" id="add_riven">Наступний рівень</button>
                </blockquote>
            </div>

            <div class="col-md-4 hidden">
                Ви граєте гру на <b id="riven">1</b> рівні
                <br>
                Загадане число
                <br>в межах від <b id="rmin">1</b> до <b id="rmax">5</b>

                <br>Спроба #<b id="sproba">0</b>
            </div>
        </div>
        <br />
        <hr />
        <br />
        
        <h2 class="text-center">Бики і корови</h2>


        <div class="row">
            <div class="col-sm-offset-2 col-sm-2">
                <div class="block1" style="width: 110px; margin: 0 auto; border: 1px solid black;">
                    <button onclick="clickBTN(1, 1);" class="btn btn-default">1</button>
                    <button onclick="clickBTN(1, 2);" class="btn btn-default">2</button>
                    <button onclick="clickBTN(1, 3);" class="btn btn-default">3</button>
                    <br>
                    <button onclick="clickBTN(1, 4);" class="btn btn-default">4</button>
                    <button onclick="clickBTN(1, 5);" class="btn btn-default">5</button>
                    <button onclick="clickBTN(1, 6);" class="btn btn-default">6</button>
                    <br>
                    <button onclick="clickBTN(1, 7);" class="btn btn-default">7</button>
                    <button onclick="clickBTN(1, 8);" class="btn btn-default">8</button>
                    <button onclick="clickBTN(1, 9);" class="btn btn-default">9</button>
                </div>
            </div>
            <div class="col-sm-2">
                <div class="block2" style="width: 110px; margin: 0 auto; border: 1px solid black;">
                    <button onclick="clickBTN(2, 1);" class="btn btn-default">1</button>
                    <button onclick="clickBTN(2, 2);" class="btn btn-default">2</button>
                    <button onclick="clickBTN(2, 3);" class="btn btn-default">3</button>
                    <br>
                    <button onclick="clickBTN(2, 4);" class="btn btn-default">4</button>
                    <button onclick="clickBTN(2, 5);" class="btn btn-default">5</button>
                    <button onclick="clickBTN(2, 6);" class="btn btn-default">6</button>
                    <br>
                    <button onclick="clickBTN(2, 7);" class="btn btn-default">7</button>
                    <button onclick="clickBTN(2, 8);" class="btn btn-default">8</button>
                    <button onclick="clickBTN(2, 9);" class="btn btn-default">9</button>
                </div>
            </div>
            <div class="col-sm-2">
                <div class="block3" style="width: 110px; margin: 0 auto; border: 1px solid black;">
                    <button onclick="clickBTN(3, 1);" class="btn btn-default">1</button>
                    <button onclick="clickBTN(3, 2);" class="btn btn-default">2</button>
                    <button onclick="clickBTN(3, 3);" class="btn btn-default">3</button>
                    <br>
                    <button onclick="clickBTN(3, 4);" class="btn btn-default">4</button>
                    <button onclick="clickBTN(3, 5);" class="btn btn-default">5</button>
                    <button onclick="clickBTN(3, 6);" class="btn btn-default">6</button>
                    <br>
                    <button onclick="clickBTN(3, 7);" class="btn btn-default">7</button>
                    <button onclick="clickBTN(3, 8);" class="btn btn-default">8</button>
                    <button onclick="clickBTN(3, 9);" class="btn btn-default">9</button>
                </div>
            </div>
            <div class="col-sm-2">
                <div class="block4" style="width: 110px; margin: 0 auto; border: 1px solid black;">
                    <button onclick="clickBTN(4, 1);" class="btn btn-default">1</button>
                    <button onclick="clickBTN(4, 2);" class="btn btn-default">2</button>
                    <button onclick="clickBTN(4, 3);" class="btn btn-default">3</button>
                    <br>
                    <button onclick="clickBTN(4, 4);" class="btn btn-default">4</button>
                    <button onclick="clickBTN(4, 5);" class="btn btn-default">5</button>
                    <button onclick="clickBTN(4, 6);" class="btn btn-default">6</button>
                    <br>
                    <button onclick="clickBTN(4, 7);" class="btn btn-default">7</button>
                    <button onclick="clickBTN(4, 8);" class="btn btn-default">8</button>
                    <button onclick="clickBTN(4, 9);" class="btn btn-default">9</button>
                </div>
            </div>
            
        </div>
        <br>
        <div class="row">
            <div class="col-sm-offset-2 col-sm-3">
                <h3 class="text left">ВГАДАЛИ</h3>
            </div>
            <div class="col-sm-2">
                <h3 class="text right">число</h3>
            </div>
            <div class="col-sm-3">
                <h3 class="text right">НЕ ВГАДАЛИ</h3>
            </div>
            <div id="res_b_k"></div>
        </div>
        
        <script src="https://code.jquery.com/jquery-2.2.4.min.js"></script>
        <script type="text/javascript" src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
        <script>
            function randomInteger(min, max) {
                var rand = min + Math.random() * (max - min);
                rand = Math.round(rand);
                return rand;
            }
            
            var riven = 1;
            var rmin = 1;
            var rmax = 5;
            var sproba = 0;
            var process = '';
            var chislo = randomInteger(rmin, rmax);
                        
            
            $('#add_user').click(function () {
                var text = $('#user_name').val();
                if (!text){
                    return alert("Введіть ім'я");
                }
                
                $('.hidden').removeClass('hidden');
                $('.add_user').addClass('hidden');
                $('#add_riven').addClass('hidden');
                
                $('.user_name').text(' '+text);
            });
            
            $('#add_number').click(function () {
                var number = $('#number').val();
                if (!number){
                    return alert("Введіть число");
                }
                
                if (chislo == number) {
                    $('.form-chislo').addClass('hidden');
                    process = 'Вгадав!!! Переходимо до наступного рівня!';
                    $('#process').text(process);
                    $('#add_riven').removeClass('hidden');
                    rmax += 5;
                } else if (chislo > number) {
                    sproba++;
                    process = 'Загадане число більше за '+number;
                    $('#process').text(process);
                    $('#sproba').text(sproba);
                    $('#number').val('');
                } else if (chislo < number) {
                    sproba++;
                    process = 'Загадане число менше за '+number;
                    $('#process').text(process);
                    $('#sproba').text(sproba);
                    $('#number').val('');
                }
            });
            
            $('#add_riven').click(function () {
                riven++;
                $('#riven').text(riven);
                $('#add_riven').addClass('hidden');
                $('.form-chislo').removeClass('hidden');
                $('#rmin').text(rmin);
                $('#rmax').text(rmax);
                $('#number').val('');
                chislo = randomInteger(rmin, rmax);
            });
            
            var byki = 0;
            var korovy = 0;
            var l = 1;
            var num = new Array();
            var arrayBut = new Array();
            var ckeck = new Array();
            
            num[1] = randomInteger(1, 9);
            num[2] = randomInteger(1, 9);
            num[3] = randomInteger(1, 9);
            num[4] = randomInteger(1, 9);
            
            ckeck[1] = 0;
            ckeck[2] = 0;
            ckeck[3] = 0;
            ckeck[4] = 0;
            
            function clickBTN(n1, n2) {
                l++;
                arrayBut[n1] = n2;
                
                if ((num[n1] == arrayBut[n1]) && ckeck[n1] == 0 ) {
                    $('.block'+ n1 + ' .btn').removeClass('btn-default');
                    $('.block'+ n1 + ' .btn').addClass('btn-disabled');
                    ckeck[n1] = 1;
                    byki++;
                    console.log(1);
                }else if (ckeck[n1] == 0) {
                    korovy++;
                    console.log(2);
                }
                
                if ((num[1] == arrayBut[1])&&(num[2]==arrayBut[2])&&(num[3]==arrayBut[3])&&(num[4]==arrayBut[4])) {
                    var qqq = '<div class="col-sm-offset-2 col-sm-3">'+
                        '<h3 class="text left">'+ byki +'</h3></div>'+
                        '<div class="col-sm-2"><h3 class="text right">'+num[1]+' '+num[2]+' ' +num[3]+' '+num[4]+'</h3></div>'+
                        '<div class="col-sm-3"><h3 class="text right">'+ korovy +'</h3></div>';
                    $('#res_b_k').prepend(qqq);
                    
                    ckeck[1] = 0;
                    ckeck[2] = 0;
                    ckeck[3] = 0;
                    ckeck[4] = 0;
                    
                    num[1] = randomInteger(1, 9);
                    num[2] = randomInteger(1, 9);
                    num[3] = randomInteger(1, 9);
                    num[4] = randomInteger(1, 9);
                    
                    l = 1;
                    $('.block1 .btn').removeClass('btn-disabled');
                    $('.block1 .btn').addClass('btn-default');
                    
                    $('.block2 .btn').removeClass('btn-disabled');
                    $('.block2 .btn').addClass('btn-default');
                    
                    $('.block3 .btn').removeClass('btn-disabled');
                    $('.block3 .btn').addClass('btn-default');
                    
                    $('.block4 .btn').removeClass('btn-disabled');
                    $('.block4 .btn').addClass('btn-default');
                } else if (l > 6) {
                    var qqq = '<div class="col-sm-offset-2 col-sm-3">'+
                        '<h3 class="text left">'+byki+'</h3></div>'+
                        '<div class="col-sm-2"><h3 class="text right">'+num[1]+' '+num[2]+' ' +num[3]+' '+num[4]+'</h3></div>'+
                        '<div class="col-sm-3"><h3 class="text right">'+korovy+'</h3></div>';
                    $('#res_b_k').prepend(qqq);
                    
                    ckeck[1] = 0;
                    ckeck[2] = 0;
                    ckeck[3] = 0;
                    ckeck[4] = 0;
                    
                    num[1] = randomInteger(1, 9);
                    num[2] = randomInteger(1, 9);
                    num[3] = randomInteger(1, 9);
                    num[4] = randomInteger(1, 9);
                    
                    l = 1;
                    
                    $('.block1 .btn').removeClass('btn-disabled');
                    $('.block1 .btn').addClass('btn-default');
                    
                    $('.block2 .btn').removeClass('btn-disabled');
                    $('.block2 .btn').addClass('btn-default');
                    
                    $('.block3 .btn').removeClass('btn-disabled');
                    $('.block3 .btn').addClass('btn-default');
                    
                    $('.block4 .btn').removeClass('btn-disabled');
                    $('.block4 .btn').addClass('btn-default');
                }
                return;
            }
        </script>
    </body>
</html>
